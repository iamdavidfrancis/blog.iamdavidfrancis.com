<!DOCTYPE html>
<html lang="en-us" data-theme="light">
    <head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#">
    <meta charset="UTF-8" />

    <meta name="generator" content="Hugo 0.69.0" /><meta name="theme-color" content="#fff" />
        <script>
            const userPrefers = localStorage.getItem('theme');
            const darkModeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
            const lightModeMediaQuery = window.matchMedia('(prefers-color-scheme: light)');
            if (userPrefers === 'dark') {
                changeModeMeta('dark');
            } else if (userPrefers === 'light') {
                changeModeMeta('light');
            } else if (darkModeMediaQuery.matches) {
                changeModeMeta('dark');
            } else if (lightModeMediaQuery.matches) {
                changeModeMeta('light');
            }
            function changeModeMeta(theme) {
                document.documentElement.setAttribute('data-theme', theme);
                if (theme === 'dark') {
                    changeThemeColor('#16171d');
                } else {
                    changeThemeColor('#fff');
                }
            }
            function changeThemeColor(themeColor) {
                document.querySelector('meta[name="theme-color"]').setAttribute('content', themeColor);
            }
        </script>

    

    
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <meta name="format-detection" content="telephone=no, date=no, address=no, email=no" />
    
    <meta http-equiv="Cache-Control" content="no-transform" />
    
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <title>Creating a Discord Bot with Docker | My Blog. Sorry.</title>

    <link rel="stylesheet" href="/css/meme.min.838cda2f45587d1d2537b1672f87178b347857ccdc5fc6daffaa4b799b777e25.css" integrity="sha256-g4zaL0VYfR0lN7FnL4cXizR4V8zcX8ba/6pLeZt3fiU=" />

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM&#43;Plex&#43;Serif:ital,wght@0,400;0,500;0,700;1,400;1,700&amp;family=Source&#43;Code&#43;Pro:ital,wght@0,400;0,700;1,400;1,700&amp;family=Comfortaa:wght@700&amp;display=swap" media="print" onload="this.media='all'" />
        <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM&#43;Plex&#43;Serif:ital,wght@0,400;0,500;0,700;1,400;1,700&amp;family=Source&#43;Code&#43;Pro:ital,wght@0,400;0,700;1,400;1,700&amp;family=Comfortaa:wght@700&amp;display=swap" /></noscript>

    <meta name="author" content="David Francis" />
    <meta name="description" content="Ever want to make a Discord Bot and have no idea where to get started? Yeah me too. So I spent most of a night looking into making one and setting it up in a Docker container. Some people thought it was an interesting idea, so here&amp;rsquo;s a write up." />

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#2a6df4" />
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-title" content="My Blog. Sorry." />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="application-name" content="My Blog. Sorry." />
    <meta name="msapplication-starturl" content="../../" />
    <meta name="msapplication-TileColor" content="#fff" />
    <meta name="msapplication-TileImage" content="../../icons/mstile-150x150.png" />
    <link rel="manifest" href="/manifest.json" />

    
    

    
    <link rel="canonical" href="https://blog.iamdavidfrancis.com/posts/discord-bot/" />



<script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "datePublished": "2020-04-11T19:11:39-07:00",
        "dateModified": "2020-04-11T22:54:02-07:00",
        "url": "https://blog.iamdavidfrancis.com/posts/discord-bot/",
        "headline": "Creating a Discord Bot with Docker",
        "description": "Ever want to make a Discord Bot and have no idea where to get started? Yeah me too. So I spent most of a night looking into making one and setting it up in a Docker container. Some people thought it was an interesting idea, so here\u0026rsquo;s a write up.",
        "inLanguage" : "en-us",
        "articleSection": "posts",
        "wordCount":  3108 ,
        "image": ["https://blog.iamdavidfrancis.com/images/gifs/hold-on-to-your-butts.gif","https://blog.iamdavidfrancis.com/images/posts/discord-bot/general-information.png","https://blog.iamdavidfrancis.com/images/posts/discord-bot/add-bot.png","https://blog.iamdavidfrancis.com/images/posts/discord-bot/bot-details.png","https://blog.iamdavidfrancis.com/images/posts/discord-bot/npm-init.png","https://blog.iamdavidfrancis.com/images/posts/discord-bot/bot-output.png"],
        "author": {
            "@type": "Person",
            "description": "It's kind of fun to do the impossible.",
            "email": "david@iamdavidfrancis.com",
            "image": "https://blog.iamdavidfrancis.com/icons/apple-touch-icon.png",
            "url": "https://iamdavidfrancis.com/",
            "name": "David Francis"
        },
        "publisher": {
            "@type": "Organization",
            "name": "My Blog. Sorry.",
            "logo": {
                "@type": "ImageObject",
                "url": "https://blog.iamdavidfrancis.com/icons/apple-touch-icon.png"
            },
            "url": "https://blog.iamdavidfrancis.com/"
        },
        "mainEntityOfPage": {
            "@type": "WebSite",
            "@id": "https://blog.iamdavidfrancis.com/"
        }
    }
</script>

    



<meta name="twitter:card" content="summary_large_image" />


<meta name="twitter:site" content="@iamdavidfrancis" />
<meta name="twitter:creator" content="@iamdavidfrancis" />

    





<meta property="og:title" content="Creating a Discord Bot with Docker" />
<meta property="og:description" content="Ever want to make a Discord Bot and have no idea where to get started? Yeah me too. So I spent most of a night looking into making one and setting it up in a Docker container. Some people thought it was an interesting idea, so here&amp;rsquo;s a write up." />
<meta property="og:url" content="https://blog.iamdavidfrancis.com/posts/discord-bot/" />
<meta property="og:site_name" content="My Blog. Sorry." />
<meta property="og:locale" content="en" /><meta property="og:image" content="https://blog.iamdavidfrancis.com/images/gifs/hold-on-to-your-butts.gif" />
<meta property="og:type" content="article" />
    <meta property="article:published_time" content="2020-04-11T19:11:39-07:00" />
    <meta property="article:modified_time" content="2020-04-11T22:54:02-07:00" />
    
    <meta property="article:section" content="posts" />


        <link rel="preconnect" href="https://www.google-analytics.com" crossorigin />

        


    
    <script async src="https://www.googletagmanager.com/gtag/js?id=GTM-PXBZ57T"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'GTM-PXBZ57T');
    </script>




    
</head>

    <body>
        <div class="container">
            
    <header class="header" data-scroll-header>
        
            <div class="header-wrapper">
                <div class="header-inner">
                    
    <div class="site-brand">
        
            <a href="/" class="brand">My Blog. Sorry.</a>
        
    </div>

                    <nav class="nav">
    <ul class="menu" id="menu">
        
            
        
        
        
        
            
                <li class="menu-item"><a href="/posts/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon "><path d="M32 448c0 17.7 14.3 32 32 32h384c17.7 0 32-14.3 32-32V160H32v288zm160-212c0-6.6 5.4-12 12-12h104c6.6 0 12 5.4 12 12v8c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-8zM480 32H32C14.3 32 0 46.3 0 64v48c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16V64c0-17.7-14.3-32-32-32z"/></svg><span class="menu-item-name">Posts</span></a>
                </li>
            
        
            
                <li class="menu-item"><a href="/categories/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon "><path d="M149.333 56v80c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24h101.333c13.255 0 24 10.745 24 24zm181.334 240v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm32-240v80c0 13.255 10.745 24 24 24H488c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24zm-32 80V56c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm-205.334 56H24c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24zM0 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm386.667-56H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zm0 160H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zM181.333 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24z"/></svg><span class="menu-item-name">Categories</span></a>
                </li>
            
        
            
                <li class="menu-item"><a href="/tags/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" class="icon "><path d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"/></svg><span class="menu-item-name">Tags</span></a>
                </li>
            
        
            
                <li class="menu-item"><a href="/about/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" class="icon "><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"/></svg><span class="menu-item-name">About</span></a>
                </li>
            
        
            
                
                    <li class="menu-item">
                        
    
        
            
        
        <div id="theme-switcher">ðŸŒž</div>
    


                    </li>
                
            
        
            
                
            
        
    </ul>
</nav>

                </div>
            </div>
            
    <input type="checkbox" id="nav-toggle" aria-hidden="true" />
    <label for="nav-toggle" class="nav-toggle"></label>
    <label for="nav-toggle" class="nav-curtain"></label>


        
    </header>




            
            
    <main class="main single" id="main">
    <div class="main-inner">

        <article class="content post" data-small-caps="true" data-type="posts" data-toc-num="true">

            <h1 class="post-title">Creating a Discord Bot with Docker</h1>

            

            
                
            

            
                

<div class="post-meta">
    
        
        <time datetime="2020-04-11T19:11:39-07:00" class="post-meta-item published"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon post-meta-icon"><path d="M148 288h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"/></svg>&nbsp;2020.4.11</time>
    
    
        
        <time datetime="2020-04-11T22:54:02-07:00" class="post-meta-item modified"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon post-meta-icon"><path d="M400 64h-48V12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v52H160V12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v52H48C21.49 64 0 85.49 0 112v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm-6 400H54a6 6 0 0 1-6-6V160h352v298a6 6 0 0 1-6 6zm-52.849-200.65L198.842 404.519c-4.705 4.667-12.303 4.637-16.971-.068l-75.091-75.699c-4.667-4.705-4.637-12.303.068-16.971l22.719-22.536c4.705-4.667 12.303-4.637 16.97.069l44.104 44.461 111.072-110.181c4.705-4.667 12.303-4.637 16.971.068l22.536 22.718c4.667 4.705 4.636 12.303-.069 16.97z"/></svg>&nbsp;2020.4.11</time>
    
    
    
        
        
        
            
                
                <span class="post-meta-item category"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon post-meta-icon"><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>&nbsp;<a href="/categories/development/" class="category-link">development</a></span>
            
        
    
    
        
        <span class="post-meta-item wordcount"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon post-meta-icon"><path d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"/></svg>&nbsp;3108</span>
    
    
        
        <span class="post-meta-item reading-time"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon post-meta-icon"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm61.8-104.4l-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"/></svg>&nbsp;15&nbsp;mins</span>
    
    
</div>
            

            <div class="post-body"><p style="text-indent:0"><span class="drop-cap">E</span>ver want to make a Discord Bot and have no idea where to get started? Yeah me too. So I spent most of a night looking into making one and setting it up in a Docker container. Some people thought it was an interesting idea, so here&rsquo;s a write up. This post might get a little long, so I may split it up into a couple of posts.</p>
<h2 id="the-basic-idea-aka-what-is-this-and-why-do-i-care"><a href="#the-basic-idea-aka-what-is-this-and-why-do-i-care" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>The Basic Idea (A.K.A. What is this and why do I care?)</h2>
<p>Discord bots are neat. They do all kinds of things and I&rsquo;ve always wondered how they were implemented. So today we&rsquo;re going to build one together. Well, I&rsquo;m going to build one and explain how along they way. Well, I actually already built it, but I&rsquo;m building it again to explain it. Well, if you&rsquo;re reading this that means I already finished building it twice, so I guess now it&rsquo;s just you building it. At least you have my commentary to help! Unless my commentary is not useful, in which case, IDK there are other blogs explaining this, so go look at one of those.</p>
<p>Sorry, that was a long winded way of saying nothing. Anyway, here&rsquo;s the plan. We&rsquo;re going to make a bot that will listen on Discord and if someone says &ldquo;Ping&rdquo; it will reply with &ldquo;Pong&rdquo;. We&rsquo;re going to go through the entire process of setting up the bot in Discord, writing the code, turning it into a docker image, pushing the image to Azure Container Registry and then running the docker image on a machine somewhere.</p>
<p><img src="/images/gifs/hold-on-to-your-butts.gif" alt="Hold on to your butts"></p>
<h2 id="getting-started"><a href="#getting-started" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>Getting Started</h2>
<p>Before we get started, make sure you have a development environment set up. I&rsquo;m using <a href="https://code.visualstudio.com/" target="_blank" rel="noopener">VS Code</a> as my IDE, but any text editor will work. You&rsquo;ll also need <a href="https://nodejs.org/" target="_blank" rel="noopener">nodejs</a> (I&rsquo;m using v12.16.2 right now) and a Discord account. Get one at <a href="https://discordapp.com/" target="_blank" rel="noopener">discordapp.com</a>. I&rsquo;ll also be doing this in Typescript since I like actually having a type system, but this can all be done in TS or JS. You will also need <a href="https://www.docker.com/" target="_blank" rel="noopener">Docker</a> if you want to run it in a container like I do in steps 3 &amp; 4 below.</p>
<p>The steps to creating the bot are as follows:</p>
<ol>
<li><a href="#1-create-the-bot-on-discord">Create a bot on Discord</a></li>
<li><a href="#2-implement-the-bot-code-in-js">Implement the bot code in JS (or TS in our case).</a></li>
<li><a href="#3-create-the-docker-image">Create the docker image.</a></li>
<li><a href="#4-deploy-the-docker-container-and-test-the-bot">Deploy the docker container and test the bot.</a></li>
</ol>
<h2 id="1-create-the-bot-on-discord"><a href="#1-create-the-bot-on-discord" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>1. Create the bot on Discord.</h2>
<p>First things first, we need to create a bot in Discord and install it into one of our servers. To create the bot you need to go to the <a href="https://discordapp.com/developers/applications" target="_blank" rel="noopener">Discord Developer Portal</a>. To create the bot, we first have to create an &ldquo;application&rdquo; in their system. It&rsquo;s a few steps, but it&rsquo;s not too complicated. You&rsquo;ll need to hit the &ldquo;New Application&rdquo; button and choose a name for the Application. Just choose whatever name you want for this, I chose &ldquo;Sample Application&rdquo; and hit &ldquo;Create&rdquo;.</p>
<p>You will see a page that looks like this:
<img src="/images/posts/discord-bot/general-information.png" alt="Application general information page"></p>
<p>From this page, copy down the &ldquo;Client ID&rdquo; as we&rsquo;ll need that in a minute. Then you can click on the &ldquo;Bot&rdquo; link on the left to get to the bot config. You&rsquo;ll need to hit &ldquo;Add Bot&rdquo; and confirm it first. This will create the bot for the application.</p>
<p><img src="/images/posts/discord-bot/add-bot.png" alt="Create bot flow"></p>
<p>Once the bot has been created, you&rsquo;ll need to get the token from the bot. You can do this by clicking on the &ldquo;Click to Reveal Token&rdquo; link and copying it, or clicking the &ldquo;Copy&rdquo; button. This token is going to be important later, so put it down somewhere safe. <strong>Important: This token should never be shared with anyone as it will give whoever has it full access to the API as the bot user.</strong></p>
<p><img src="/images/posts/discord-bot/bot-details.png" alt="Create bot flow"></p>
<p>Once you have the token saved somewhere, we need to add the bot to a server so we can actually test it in the future. We&rsquo;re going to add the bot with Administrator permissions for now, but you can scope the permissions by using the tool at the bottom of the bot page to get the permission number (Administrator is 8). Once you have the number, you&rsquo;ll need to construct a url to add the bot. The URL should look like this:</p>
<p><a href="https://discordapp.com/oauth2/authorize?&amp;client_id=CLIENTID&amp;scope=bot&amp;permissions=PERMISSION" target="_blank" rel="noopener">https://discordapp.com/oauth2/authorize?&amp;client_id=CLIENTID&amp;scope=bot&amp;permissions=PERMISSION</a></p>
<p>For us the PERMISSION is 8, so the URL will look something like this:</p>
<p><a href="https://discordapp.com/oauth2/authorize?&amp;client_id=0000000000&amp;scope=bot&amp;permissions=8" target="_blank" rel="noopener">https://discordapp.com/oauth2/authorize?&amp;client_id=0000000000&amp;scope=bot&amp;permissions=8</a></p>
<p>Copy the URL with your Client ID and paste it into a web browser. From there you can install the bot in a server you are an admin of. You&rsquo;ll know if it worked by logging into Discord and checking if the bot user is a member of the server.</p>
<h2 id="2-implement-the-bot-code-in-js"><a href="#2-implement-the-bot-code-in-js" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>2. Implement the bot code in JS</h2>
<p>Now that you have the bot all set up and installed in a server, we can start working on implementing it. Let&rsquo;s create a folder for working on the bot. I called mine <code>discord-bot</code>.</p>
<h3 id="21-set-up-packagejson-and-tsconfigjson"><a href="#21-set-up-packagejson-and-tsconfigjson" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>2.1 Set up package.json and tsconfig.json</h3>
<p>I&rsquo;m going to launch VS Code in that folder and finish setting up from there. VS Code has a built in terminal that you can open with <code>Ctrl+` </code>. Let&rsquo;s setup npm with <code>npm init</code>. Just enter information in the prompts or leave the defaults. Either is fine for now. This should create a <code>package.json</code> file in the file explorer. You can see that the <code>package.json</code> contains all the information from the prompts.</p>
<p><img src="/images/posts/discord-bot/npm-init.png" alt="npm init"></p>
<p>Now we need to install some packages. Run <code>npm install discord.js --save</code> to add the Discord JS library to the project. Let&rsquo;s also add <code>typescript</code> as a dev dependency with <code>npm install typescript --save-dev</code>. You&rsquo;re going to want the Nodejs typings so run <code>npm install @types/node @types/ws --save-dev</code> as well. Your <code>package.json</code> should now look something like this:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;discord-bot&#34;</span><span class="p">,</span>
  <span class="nt">&#34;version&#34;</span><span class="p">:</span> <span class="s2">&#34;1.0.0&#34;</span><span class="p">,</span>
  <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
  <span class="nt">&#34;main&#34;</span><span class="p">:</span> <span class="s2">&#34;index.js&#34;</span><span class="p">,</span>
  <span class="nt">&#34;scripts&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;test&#34;</span><span class="p">:</span> <span class="s2">&#34;echo \&#34;Error: no test specified\&#34; &amp;&amp; exit 1&#34;</span>
  <span class="p">},</span>
  <span class="nt">&#34;author&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
  <span class="nt">&#34;license&#34;</span><span class="p">:</span> <span class="s2">&#34;ISC&#34;</span><span class="p">,</span>
  <span class="nt">&#34;dependencies&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;discord.js&#34;</span><span class="p">:</span> <span class="s2">&#34;^12.1.1&#34;</span>
  <span class="p">},</span>
  <span class="nt">&#34;devDependencies&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;@types/node&#34;</span><span class="p">:</span> <span class="s2">&#34;^13.11.1&#34;</span><span class="p">,</span>
    <span class="nt">&#34;@types/ws&#34;</span><span class="p">:</span> <span class="s2">&#34;^7.2.3&#34;</span><span class="p">,</span>
    <span class="nt">&#34;typescript&#34;</span><span class="p">:</span> <span class="s2">&#34;^3.8.3&#34;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Next up we need to add a <code>tsconfig.json</code> file to tell typescript how to build everything. Run the following command:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh">npx tsc --init --rootDir src --outDir dist --target es6 --esModuleInterop --resolveJsonModule --module commonjs --allowJs <span class="nb">true</span> --noImplicitAny <span class="nb">true</span>
</code></pre></td></tr></table>
</div>
</div><p>This will setup our <code>tsconfig.json</code> with some useful defaults. It will look like this:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&#34;compilerOptions&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="err">/*</span> <span class="err">Basic</span> <span class="err">Options</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;incremental&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>                   <span class="err">/*</span> <span class="err">Enable</span> <span class="err">incremental</span> <span class="err">compilation</span> <span class="err">*/</span>
    <span class="nt">&#34;target&#34;</span><span class="p">:</span> <span class="s2">&#34;es6&#34;</span><span class="p">,</span>                          <span class="err">/*</span> <span class="err">Specify</span> <span class="err">ECMAScript</span> <span class="err">target</span> <span class="err">version:</span> <span class="err">&#39;ES3&#39;</span> <span class="err">(default),</span> <span class="err">&#39;ES5&#39;,</span> <span class="err">&#39;ES2015&#39;,</span> <span class="err">&#39;ES2016&#39;,</span> <span class="err">&#39;ES2017&#39;,</span> <span class="err">&#39;ES2018&#39;,</span> <span class="err">&#39;ES2019&#39;,</span> <span class="err">&#39;ES2020&#39;,</span> <span class="err">or</span> <span class="err">&#39;ESNEXT&#39;.</span> <span class="err">*/</span>
    <span class="nt">&#34;module&#34;</span><span class="p">:</span> <span class="s2">&#34;commonjs&#34;</span><span class="p">,</span>                     <span class="err">/*</span> <span class="err">Specify</span> <span class="err">module</span> <span class="err">code</span> <span class="err">generation:</span> <span class="err">&#39;none&#39;,</span> <span class="err">&#39;commonjs&#39;,</span> <span class="err">&#39;amd&#39;,</span> <span class="err">&#39;system&#39;,</span> <span class="err">&#39;umd&#39;,</span> <span class="err">&#39;es2015&#39;,</span> <span class="err">&#39;es2020&#39;,</span> <span class="err">or</span> <span class="err">&#39;ESNext&#39;.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;lib&#34;</span><span class="p">:</span> <span class="p">[],</span>                             <span class="err">/*</span> <span class="err">Specify</span> <span class="err">library</span> <span class="err">files</span> <span class="err">to</span> <span class="err">be</span> <span class="err">included</span> <span class="err">in</span> <span class="err">the</span> <span class="err">compilation.</span> <span class="err">*/</span>
    <span class="nt">&#34;allowJs&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>                          <span class="err">/*</span> <span class="err">Allow</span> <span class="err">javascript</span> <span class="err">files</span> <span class="err">to</span> <span class="err">be</span> <span class="err">compiled.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;checkJs&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>                       <span class="err">/*</span> <span class="err">Report</span> <span class="err">errors</span> <span class="err">in</span> <span class="err">.js</span> <span class="err">files.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;jsx&#34;</span><span class="p">:</span> <span class="s2">&#34;preserve&#34;</span><span class="p">,</span>                     <span class="err">/*</span> <span class="err">Specify</span> <span class="err">JSX</span> <span class="err">code</span> <span class="err">generation:</span> <span class="err">&#39;preserve&#39;,</span> <span class="err">&#39;react-native&#39;,</span> <span class="err">or</span> <span class="err">&#39;react&#39;.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;declaration&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>                   <span class="err">/*</span> <span class="err">Generates</span> <span class="err">corresponding</span> <span class="err">&#39;.d.ts&#39;</span> <span class="err">file.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;declarationMap&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>                <span class="err">/*</span> <span class="err">Generates</span> <span class="err">a</span> <span class="err">sourcemap</span> <span class="err">for</span> <span class="err">each</span> <span class="err">corresponding</span> <span class="err">&#39;.d.ts&#39;</span> <span class="err">file.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;sourceMap&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>                     <span class="err">/*</span> <span class="err">Generates</span> <span class="err">corresponding</span> <span class="err">&#39;.map&#39;</span> <span class="err">file.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;outFile&#34;</span><span class="p">:</span> <span class="s2">&#34;./&#34;</span><span class="p">,</span>                       <span class="err">/*</span> <span class="err">Concatenate</span> <span class="err">and</span> <span class="err">emit</span> <span class="err">output</span> <span class="err">to</span> <span class="err">single</span> <span class="err">file.</span> <span class="err">*/</span>
    <span class="nt">&#34;outDir&#34;</span><span class="p">:</span> <span class="s2">&#34;dist&#34;</span><span class="p">,</span>                         <span class="err">/*</span> <span class="err">Redirect</span> <span class="err">output</span> <span class="err">structure</span> <span class="err">to</span> <span class="err">the</span> <span class="err">directory.</span> <span class="err">*/</span>
    <span class="nt">&#34;rootDir&#34;</span><span class="p">:</span> <span class="s2">&#34;src&#34;</span><span class="p">,</span>                         <span class="err">/*</span> <span class="err">Specify</span> <span class="err">the</span> <span class="err">root</span> <span class="err">directory</span> <span class="err">of</span> <span class="err">input</span> <span class="err">files.</span> <span class="err">Use</span> <span class="err">to</span> <span class="err">control</span> <span class="err">the</span> <span class="err">output</span> <span class="err">directory</span> <span class="err">structure</span> <span class="err">with</span> <span class="err">--outDir.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;composite&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>                     <span class="err">/*</span> <span class="err">Enable</span> <span class="err">project</span> <span class="err">compilation</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;tsBuildInfoFile&#34;</span><span class="p">:</span> <span class="s2">&#34;./&#34;</span><span class="p">,</span>               <span class="err">/*</span> <span class="err">Specify</span> <span class="err">file</span> <span class="err">to</span> <span class="err">store</span> <span class="err">incremental</span> <span class="err">compilation</span> <span class="err">information</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;removeComments&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>                <span class="err">/*</span> <span class="err">Do</span> <span class="err">not</span> <span class="err">emit</span> <span class="err">comments</span> <span class="err">to</span> <span class="err">output.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;noEmit&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>                        <span class="err">/*</span> <span class="err">Do</span> <span class="err">not</span> <span class="err">emit</span> <span class="err">outputs.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;importHelpers&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>                 <span class="err">/*</span> <span class="err">Import</span> <span class="err">emit</span> <span class="err">helpers</span> <span class="err">from</span> <span class="err">&#39;tslib&#39;.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;downlevelIteration&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>            <span class="err">/*</span> <span class="err">Provide</span> <span class="err">full</span> <span class="err">support</span> <span class="err">for</span> <span class="err">iterables</span> <span class="err">in</span> <span class="err">&#39;for-of&#39;,</span> <span class="err">spread,</span> <span class="err">and</span> <span class="err">destructuring</span> <span class="err">when</span> <span class="err">targeting</span> <span class="err">&#39;ES5&#39;</span> <span class="err">or</span> <span class="err">&#39;ES3&#39;.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;isolatedModules&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>               <span class="err">/*</span> <span class="err">Transpile</span> <span class="err">each</span> <span class="err">file</span> <span class="err">as</span> <span class="err">a</span> <span class="err">separate</span> <span class="err">module</span> <span class="err">(similar</span> <span class="err">to</span> <span class="err">&#39;ts.transpileModule&#39;).</span> <span class="err">*/</span>

    <span class="err">/*</span> <span class="err">Strict</span> <span class="err">Type-Checking</span> <span class="err">Options</span> <span class="err">*/</span>
    <span class="nt">&#34;strict&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>                           <span class="err">/*</span> <span class="err">Enable</span> <span class="err">all</span> <span class="err">strict</span> <span class="err">type-checking</span> <span class="err">options.</span> <span class="err">*/</span>
    <span class="nt">&#34;noImplicitAny&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>                    <span class="err">/*</span> <span class="err">Raise</span> <span class="err">error</span> <span class="err">on</span> <span class="err">expressions</span> <span class="err">and</span> <span class="err">declarations</span> <span class="err">with</span> <span class="err">an</span> <span class="err">implied</span> <span class="err">&#39;any&#39;</span> <span class="err">type.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;strictNullChecks&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>              <span class="err">/*</span> <span class="err">Enable</span> <span class="err">strict</span> <span class="err">null</span> <span class="err">checks.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;strictFunctionTypes&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>           <span class="err">/*</span> <span class="err">Enable</span> <span class="err">strict</span> <span class="err">checking</span> <span class="err">of</span> <span class="err">function</span> <span class="err">types.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;strictBindCallApply&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>           <span class="err">/*</span> <span class="err">Enable</span> <span class="err">strict</span> <span class="err">&#39;bind&#39;,</span> <span class="err">&#39;call&#39;,</span> <span class="err">and</span> <span class="err">&#39;apply&#39;</span> <span class="err">methods</span> <span class="err">on</span> <span class="err">functions.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;strictPropertyInitialization&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>  <span class="err">/*</span> <span class="err">Enable</span> <span class="err">strict</span> <span class="err">checking</span> <span class="err">of</span> <span class="err">property</span> <span class="err">initialization</span> <span class="err">in</span> <span class="err">classes.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;noImplicitThis&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>                <span class="err">/*</span> <span class="err">Raise</span> <span class="err">error</span> <span class="err">on</span> <span class="err">&#39;this&#39;</span> <span class="err">expressions</span> <span class="err">with</span> <span class="err">an</span> <span class="err">implied</span> <span class="err">&#39;any&#39;</span> <span class="err">type.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;alwaysStrict&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>                  <span class="err">/*</span> <span class="err">Parse</span> <span class="err">in</span> <span class="err">strict</span> <span class="err">mode</span> <span class="err">and</span> <span class="err">emit</span> <span class="nt">&#34;use strict&#34;</span> <span class="err">for</span> <span class="err">each</span> <span class="err">source</span> <span class="err">file.</span> <span class="err">*/</span>

    <span class="err">/*</span> <span class="err">Additional</span> <span class="err">Checks</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="s2">&#34;noUnusedLocals&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>                <span class="err">/*</span> <span class="err">Report</span> <span class="err">errors</span> <span class="err">on</span> <span class="err">unused</span> <span class="err">locals.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;noUnusedParameters&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>            <span class="err">/*</span> <span class="err">Report</span> <span class="err">errors</span> <span class="err">on</span> <span class="err">unused</span> <span class="err">parameters.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;noImplicitReturns&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>             <span class="err">/*</span> <span class="err">Report</span> <span class="err">error</span> <span class="err">when</span> <span class="err">not</span> <span class="err">all</span> <span class="err">code</span> <span class="err">paths</span> <span class="err">in</span> <span class="err">function</span> <span class="err">return</span> <span class="err">a</span> <span class="err">value.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;noFallthroughCasesInSwitch&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>    <span class="err">/*</span> <span class="err">Report</span> <span class="err">errors</span> <span class="err">for</span> <span class="err">fallthrough</span> <span class="err">cases</span> <span class="err">in</span> <span class="err">switch</span> <span class="err">statement.</span> <span class="err">*/</span>

    <span class="err">/*</span> <span class="err">Module</span> <span class="err">Resolution</span> <span class="err">Options</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;moduleResolution&#34;</span><span class="p">:</span> <span class="s2">&#34;node&#34;</span><span class="p">,</span>            <span class="err">/*</span> <span class="err">Specify</span> <span class="err">module</span> <span class="err">resolution</span> <span class="err">strategy:</span> <span class="err">&#39;node&#39;</span> <span class="err">(Node.js)</span> <span class="err">or</span> <span class="err">&#39;classic&#39;</span> <span class="err">(TypeScript</span> <span class="err">pre-1.6).</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;baseUrl&#34;</span><span class="p">:</span> <span class="s2">&#34;./&#34;</span><span class="p">,</span>                       <span class="err">/*</span> <span class="err">Base</span> <span class="err">directory</span> <span class="err">to</span> <span class="err">resolve</span> <span class="err">non-absolute</span> <span class="err">module</span> <span class="err">names.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;paths&#34;</span><span class="p">:</span> <span class="p">{},</span>                           <span class="err">/*</span> <span class="err">A</span> <span class="err">series</span> <span class="err">of</span> <span class="err">entries</span> <span class="err">which</span> <span class="err">re-map</span> <span class="err">imports</span> <span class="err">to</span> <span class="err">lookup</span> <span class="err">locations</span> <span class="err">relative</span> <span class="err">to</span> <span class="err">the</span> <span class="err">&#39;baseUrl&#39;.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;rootDirs&#34;</span><span class="p">:</span> <span class="p">[],</span>                        <span class="err">/*</span> <span class="err">List</span> <span class="err">of</span> <span class="err">root</span> <span class="err">folders</span> <span class="err">whose</span> <span class="err">combined</span> <span class="err">content</span> <span class="err">represents</span> <span class="err">the</span> <span class="err">structure</span> <span class="err">of</span> <span class="err">the</span> <span class="err">project</span> <span class="err">at</span> <span class="err">runtime.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;typeRoots&#34;</span><span class="p">:</span> <span class="p">[],</span>                       <span class="err">/*</span> <span class="err">List</span> <span class="err">of</span> <span class="err">folders</span> <span class="err">to</span> <span class="err">include</span> <span class="err">type</span> <span class="err">definitions</span> <span class="err">from.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;types&#34;</span><span class="p">:</span> <span class="p">[],</span>                           <span class="err">/*</span> <span class="err">Type</span> <span class="err">declaration</span> <span class="err">files</span> <span class="err">to</span> <span class="err">be</span> <span class="err">included</span> <span class="err">in</span> <span class="err">compilation.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;allowSyntheticDefaultImports&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>  <span class="err">/*</span> <span class="err">Allow</span> <span class="err">default</span> <span class="err">imports</span> <span class="err">from</span> <span class="err">modules</span> <span class="err">with</span> <span class="err">no</span> <span class="err">default</span> <span class="err">export.</span> <span class="err">This</span> <span class="err">does</span> <span class="err">not</span> <span class="err">affect</span> <span class="err">code</span> <span class="err">emit,</span> <span class="err">just</span> <span class="err">typechecking.</span> <span class="err">*/</span>
    <span class="nt">&#34;esModuleInterop&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>                  <span class="err">/*</span> <span class="err">Enables</span> <span class="err">emit</span> <span class="err">interoperability</span> <span class="err">between</span> <span class="err">CommonJS</span> <span class="err">and</span> <span class="err">ES</span> <span class="err">Modules</span> <span class="err">via</span> <span class="err">creation</span> <span class="err">of</span> <span class="err">namespace</span> <span class="err">objects</span> <span class="err">for</span> <span class="err">all</span> <span class="err">imports.</span> <span class="err">Implies</span> <span class="err">&#39;allowSyntheticDefaultImports&#39;.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;preserveSymlinks&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>              <span class="err">/*</span> <span class="err">Do</span> <span class="err">not</span> <span class="err">resolve</span> <span class="err">the</span> <span class="err">real</span> <span class="err">path</span> <span class="err">of</span> <span class="err">symlinks.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;allowUmdGlobalAccess&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>          <span class="err">/*</span> <span class="err">Allow</span> <span class="err">accessing</span> <span class="err">UMD</span> <span class="err">globals</span> <span class="err">from</span> <span class="err">modules.</span> <span class="err">*/</span>

    <span class="err">/*</span> <span class="err">Source</span> <span class="err">Map</span> <span class="err">Options</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;sourceRoot&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>                      <span class="err">/*</span> <span class="err">Specify</span> <span class="err">the</span> <span class="err">location</span> <span class="err">where</span> <span class="err">debugger</span> <span class="err">should</span> <span class="err">locate</span> <span class="err">TypeScript</span> <span class="err">files</span> <span class="err">instead</span> <span class="err">of</span> <span class="err">source</span> <span class="err">locations.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;mapRoot&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>                         <span class="err">/*</span> <span class="err">Specify</span> <span class="err">the</span> <span class="err">location</span> <span class="err">where</span> <span class="err">debugger</span> <span class="err">should</span> <span class="err">locate</span> <span class="err">map</span> <span class="err">files</span> <span class="err">instead</span> <span class="err">of</span> <span class="err">generated</span> <span class="err">locations.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;inlineSourceMap&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>               <span class="err">/*</span> <span class="err">Emit</span> <span class="err">a</span> <span class="err">single</span> <span class="err">file</span> <span class="err">with</span> <span class="err">source</span> <span class="err">maps</span> <span class="err">instead</span> <span class="err">of</span> <span class="err">having</span> <span class="err">a</span> <span class="err">separate</span> <span class="err">file.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;inlineSources&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>                 <span class="err">/*</span> <span class="err">Emit</span> <span class="err">the</span> <span class="err">source</span> <span class="err">alongside</span> <span class="err">the</span> <span class="err">sourcemaps</span> <span class="err">within</span> <span class="err">a</span> <span class="err">single</span> <span class="err">file;</span> <span class="err">requires</span> <span class="err">&#39;--inlineSourceMap&#39;</span> <span class="err">or</span> <span class="err">&#39;--sourceMap&#39;</span> <span class="err">to</span> <span class="err">be</span> <span class="err">set.</span> <span class="err">*/</span>

    <span class="err">/*</span> <span class="err">Experimental</span> <span class="err">Options</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;experimentalDecorators&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>        <span class="err">/*</span> <span class="err">Enables</span> <span class="err">experimental</span> <span class="err">support</span> <span class="err">for</span> <span class="err">ES7</span> <span class="err">decorators.</span> <span class="err">*/</span>
    <span class="err">//</span> <span class="nt">&#34;emitDecoratorMetadata&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>         <span class="err">/*</span> <span class="err">Enables</span> <span class="err">experimental</span> <span class="err">support</span> <span class="err">for</span> <span class="err">emitting</span> <span class="err">type</span> <span class="err">metadata</span> <span class="err">for</span> <span class="err">decorators.</span> <span class="err">*/</span>

    <span class="err">/*</span> <span class="err">Advanced</span> <span class="err">Options</span> <span class="err">*/</span>
    <span class="nt">&#34;resolveJsonModule&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>                <span class="err">/*</span> <span class="err">Include</span> <span class="err">modules</span> <span class="err">imported</span> <span class="err">with</span> <span class="err">&#39;.json&#39;</span> <span class="err">extension</span> <span class="err">*/</span>
    <span class="nt">&#34;forceConsistentCasingInFileNames&#34;</span><span class="p">:</span> <span class="kc">true</span>  <span class="err">/*</span> <span class="err">Disallow</span> <span class="err">inconsistently-cased</span> <span class="err">references</span> <span class="err">to</span> <span class="err">the</span> <span class="err">same</span> <span class="err">file.</span> <span class="err">*/</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Now that this is done, we can make a few changes to <code>package.json</code> to enable some easier testing and running. Let&rsquo;s update the <code>&quot;main&quot;</code> property to <code>dist/index.js</code> since we won&rsquo;t be running anything from <code>/src</code>. Let&rsquo;s also add some scripts to enable building and running our bot code:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="s2">&#34;scripts&#34;</span><span class="err">:</span> <span class="p">{</span>
    <span class="nt">&#34;dev&#34;</span><span class="p">:</span> <span class="s2">&#34;nodemon --watch &#39;src/**/*&#39; --exec &#39;ts-node&#39; src/index.ts&#34;</span><span class="p">,</span>
    <span class="nt">&#34;build&#34;</span><span class="p">:</span> <span class="s2">&#34;tsc&#34;</span><span class="p">,</span>
    <span class="nt">&#34;start&#34;</span><span class="p">:</span> <span class="s2">&#34;node dist/index.js&#34;</span><span class="p">,</span>
    <span class="nt">&#34;debug&#34;</span><span class="p">:</span> <span class="s2">&#34;node --inspect dist/index.js&#34;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Your <code>package.json</code> should look like this now:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;discord-bot&#34;</span><span class="p">,</span>
  <span class="nt">&#34;version&#34;</span><span class="p">:</span> <span class="s2">&#34;1.0.0&#34;</span><span class="p">,</span>
  <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
  <span class="nt">&#34;main&#34;</span><span class="p">:</span> <span class="s2">&#34;dist/index.js&#34;</span><span class="p">,</span>
  <span class="nt">&#34;scripts&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;dev&#34;</span><span class="p">:</span> <span class="s2">&#34;nodemon --watch &#39;src/**/*&#39; --exec &#39;ts-node&#39; src/index.ts&#34;</span><span class="p">,</span>
    <span class="nt">&#34;build&#34;</span><span class="p">:</span> <span class="s2">&#34;tsc&#34;</span><span class="p">,</span>
    <span class="nt">&#34;start&#34;</span><span class="p">:</span> <span class="s2">&#34;node dist/index.js&#34;</span><span class="p">,</span>
    <span class="nt">&#34;debug&#34;</span><span class="p">:</span> <span class="s2">&#34;node --inspect dist/index.js&#34;</span>
  <span class="p">},</span>
  <span class="nt">&#34;author&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
  <span class="nt">&#34;license&#34;</span><span class="p">:</span> <span class="s2">&#34;ISC&#34;</span><span class="p">,</span>
  <span class="nt">&#34;dependencies&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;discord.js&#34;</span><span class="p">:</span> <span class="s2">&#34;^12.1.1&#34;</span>
  <span class="p">},</span>
  <span class="nt">&#34;devDependencies&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;@types/node&#34;</span><span class="p">:</span> <span class="s2">&#34;^13.11.1&#34;</span><span class="p">,</span>
    <span class="nt">&#34;typescript&#34;</span><span class="p">:</span> <span class="s2">&#34;^3.8.3&#34;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="22-adding-the-bot-entry-point-and-connecting-to-discord"><a href="#22-adding-the-bot-entry-point-and-connecting-to-discord" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>2.2 Adding the bot entry point and connecting to Discord</h3>
<p>Now that all we&rsquo;ve got typescript and node set up, let&rsquo;s get started on implementation. Let&rsquo;s create a <code>src</code> folder and put an <code>index.ts</code> file in it. The main part of this file will be creating the Discord client and connecting to Discord with it. Note: Discord.js has a ton of built in functionality and is too much to cover in this blog post. You can read the full docs <a href="https://discord.js.org/#/docs/main/stable/general/welcome" target="_blank" rel="noopener">here</a>. I&rsquo;ll cover the code in the file by blocks, so the first thing we want to do is add this:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-ts" data-lang="ts"><span class="kr">import</span> <span class="nx">Discord</span> <span class="nx">from</span> <span class="s2">&#34;discord.js&#34;</span><span class="p">;</span>

<span class="c1">// Discord token is required.
</span><span class="c1"></span><span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">DISCORD_TOKEN</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&#34;DISCORD_TOKEN environment variable missing.&#34;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">onReady</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// TODO: Implement this
</span><span class="c1"></span><span class="p">};</span>
<span class="kr">const</span> <span class="nx">onMessage</span> <span class="o">=</span> <span class="p">(</span><span class="nx">message</span>: <span class="kt">Discord.Message</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span> 
    <span class="c1">// TODO: Implement this
</span><span class="c1"></span><span class="p">};</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Discord</span><span class="p">.</span><span class="nx">Client</span><span class="p">();</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;ready&#39;</span><span class="p">,</span> <span class="nx">onReady</span><span class="p">);</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;message&#39;</span><span class="p">,</span> <span class="nx">onMessage</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">discordToken</span>: <span class="kt">string</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">DISCORD_TOKEN</span><span class="p">;</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">login</span><span class="p">(</span><span class="nx">discordToken</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><p>This will bring in the Discord library under the name <code>Discord</code>. It also will read in the token from an Environment variable. I don&rsquo;t like hard coding secrets, especially if I&rsquo;m checking them into source control. So let&rsquo;s throw if the token is not in the environment and set it to a local variable while we do the rest.</p>
<p>The <code>onReady</code> and <code>onMessage</code> handlers will be invoked once the client starts up and when incoming messages come in. We&rsquo;ll actually implement them a little later.</p>
<p>The <code>client</code> is actually the magic that will connect to Discord and calls into our <code>onReady</code> and <code>onMessage</code> callbacks.</p>
<p>The call to <code>client.login(discordToken)</code> will initiate the connection to Discord. At this point, we can add some logging into the <code>onReady</code> handler and see what happens when we run it. Update the code with the following:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-ts" data-lang="ts"><span class="kr">const</span> <span class="nx">onReady</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;Connected&#34;</span><span class="p">);</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">client</span><span class="p">.</span><span class="nx">user</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Logged in as </span><span class="si">${</span><span class="nx">client</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">tag</span><span class="si">}</span><span class="sb">.`</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Once that&rsquo;s in, run <code>npm run build</code> to generate the <code>dist</code> folder with the generated javascript. Once that completes, run <code>npm run start</code> to start the bot running locally. You should see something along the lines of this:</p>
<pre><code>PS D:\temp-blog\discord-bot&gt; npm run start

&gt; discord-bot@1.0.0 start D:\temp-blog\discord-bot
&gt; node dist/index.js

D:\temp-blog\discord-bot\dist\index.js:9
    throw new Error(&quot;DISCORD_TOKEN environment variable missing.&quot;);
    ^

Error: DISCORD_TOKEN environment variable missing.
</code></pre><p>This is because we haven&rsquo;t set the environment variable with our token yet. I&rsquo;m using Powershell, so I&rsquo;m going to run:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-powershell" data-lang="powershell"><span class="nv">$env:DISCORD_TOKEN</span> <span class="p">=</span> <span class="s1">&#39;MyToken&#39;</span>
</code></pre></td></tr></table>
</div>
</div><p>If you run <code>npm run start</code> again you should now see the log lines when you bot connects:</p>
<pre><code>PS D:\temp-blog\discord-bot&gt; npm run start

&gt; discord-bot@1.0.0 start D:\temp-blog\discord-bot
&gt; node dist/index.js

Connected
Logged in as Sample Application#2809.
</code></pre><p>Go ahead and hit <code>Ctrl+C</code> to stop the process.</p>
<h3 id="23-handling-incoming-messages"><a href="#23-handling-incoming-messages" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>2.3 Handling incoming messages.</h3>
<p>Now that we are connected to Discord, we can implement our message handling. As I said earlier, this bot will just respond &ldquo;Pong&rdquo; when someone sends &ldquo;Ping&rdquo;, so let&rsquo;s build a pretty simple handler.</p>
<p>In our <code>onMessage</code> method let&rsquo;s add our new code:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-ts" data-lang="ts"><span class="kr">const</span> <span class="nx">onMessage</span> <span class="o">=</span> <span class="p">(</span><span class="nx">message</span>: <span class="kt">Discord.Message</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span> 
    <span class="c1">// Don&#39;t respond to bots.
</span><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="nx">message</span><span class="p">.</span><span class="nx">author</span><span class="p">.</span><span class="nx">bot</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">message</span><span class="p">.</span><span class="nx">content</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&#34;ping&#34;</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">message</span><span class="p">.</span><span class="nx">reply</span><span class="p">(</span><span class="s2">&#34;Pong!&#34;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Now you can run <code>npm run build</code> and <code>npm run start</code> again. Once you see the &ldquo;Connected&rdquo; log show up, go back to your Discord server and send a message &ldquo;Ping&rdquo;. You should see this response:</p>
<p><img src="/images/posts/discord-bot/bot-output.png" alt="Bot working"></p>
<p>Now we&rsquo;re ready to start working on the Docker Image.</p>
<h2 id="3-create-the-docker-image"><a href="#3-create-the-docker-image" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>3. Create the Docker Image</h2>
<p>The first step to creating the Docker image will be to add a Dockerfile. Lets create a <code>Dockerfile</code> at the root of our <code>discord-bot</code> folder. Set the content of the Dockerfile to this:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-Dockerfile" data-lang="Dockerfile"><span class="k">FROM</span><span class="s"> node:lts</span><span class="err">
</span><span class="err"></span><span class="err">
</span><span class="err"></span><span class="k">USER</span><span class="s"> root</span><span class="err">
</span><span class="err"></span><span class="k">ENV</span> APP /usr/src/APP<span class="err">
</span><span class="err"></span><span class="err">
</span><span class="err"></span><span class="k">COPY</span> package.json /tmp/package.json<span class="err">
</span><span class="err"></span><span class="err">
</span><span class="err"></span><span class="k">RUN</span> <span class="nb">cd</span> /tmp <span class="o">&amp;&amp;</span> npm install --loglevel<span class="o">=</span>warn <span class="se">\</span><span class="err">
</span><span class="err"></span>    <span class="o">&amp;&amp;</span> mkdir -p <span class="nv">$APP</span> <span class="se">\</span><span class="err">
</span><span class="err"></span>    <span class="o">&amp;&amp;</span> mv /tmp/node_modules <span class="nv">$APP</span><span class="err">
</span><span class="err"></span><span class="err">
</span><span class="err"></span><span class="k">COPY</span> src <span class="nv">$APP</span>/src<span class="err">
</span><span class="err"></span><span class="k">COPY</span> package.json <span class="nv">$APP</span><span class="err">
</span><span class="err"></span><span class="k">COPY</span> tsconfig.json <span class="nv">$APP</span><span class="err">
</span><span class="err"></span><span class="err">
</span><span class="err"></span><span class="k">WORKDIR</span><span class="s"> $APP</span><span class="err">
</span><span class="err"></span><span class="err">
</span><span class="err"></span><span class="k">RUN</span> npm run build<span class="err">
</span><span class="err"></span><span class="err">
</span><span class="err"></span><span class="k">CMD</span> <span class="p">[</span> <span class="s2">&#34;node&#34;</span><span class="p">,</span> <span class="s2">&#34;dist/index.js&#34;</span> <span class="p">]</span><span class="err">
</span></code></pre></td></tr></table>
</div>
</div><p>Let&rsquo;s break down what we&rsquo;re doing in there. We start with setting the base image to <code>node:lts</code> to get the current LTS nodejs in our container.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-Dockerfile" data-lang="Dockerfile"><span class="k">USER</span><span class="s"> root</span><span class="err">
</span><span class="err"></span><span class="k">ENV</span> APP /usr/src/APP<span class="err">
</span></code></pre></td></tr></table>
</div>
</div><p>Here we&rsquo;re setting the user to run as and adding an environment variable with the path we&rsquo;re installing the bot to.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-Dockerfile" data-lang="Dockerfile"><span class="k">COPY</span> package.json /tmp/package.json<span class="err">
</span><span class="err"></span><span class="err">
</span><span class="err"></span><span class="k">RUN</span> <span class="nb">cd</span> /tmp <span class="o">&amp;&amp;</span> npm install --loglevel<span class="o">=</span>warn <span class="se">\</span><span class="err">
</span><span class="err"></span>    <span class="o">&amp;&amp;</span> mkdir -p <span class="nv">$APP</span> <span class="se">\</span><span class="err">
</span><span class="err"></span>    <span class="o">&amp;&amp;</span> mv /tmp/node_modules <span class="nv">$APP</span><span class="err">
</span></code></pre></td></tr></table>
</div>
</div><p>This is copying the <code>package.json</code> into a temp folder to run an <code>npm install</code> to download our dependencies. Then it copies the dependencies into our <code>$APP</code> directory.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-Dockerfile" data-lang="Dockerfile"><span class="k">COPY</span> src <span class="nv">$APP</span>/src<span class="err">
</span><span class="err"></span><span class="k">COPY</span> package.json <span class="nv">$APP</span><span class="err">
</span><span class="err"></span><span class="k">COPY</span> tsconfig.json <span class="nv">$APP</span><span class="err">
</span><span class="err"></span><span class="err">
</span><span class="err"></span><span class="k">WORKDIR</span><span class="s"> $APP</span><span class="err">
</span></code></pre></td></tr></table>
</div>
</div><p>This is copying app files into the final directory and moving our working directory there.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-Dockerfile" data-lang="Dockerfile"><span class="k">RUN</span> npm run build<span class="err">
</span><span class="err"></span><span class="err">
</span><span class="err"></span><span class="k">CMD</span> <span class="p">[</span> <span class="s2">&#34;node&#34;</span><span class="p">,</span> <span class="s2">&#34;dist/index.js&#34;</span> <span class="p">]</span><span class="err">
</span></code></pre></td></tr></table>
</div>
</div><p>This builds the bot and then runs it. Now let&rsquo;s actually build our docker image. Go ahead and run this command:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-powershell" data-lang="powershell"><span class="n">docker</span> <span class="n">build</span> <span class="p">.</span> <span class="n">-t</span> <span class="n">discord-bot</span>
</code></pre></td></tr></table>
</div>
</div><p>This will build the image and tag it with <code>discord-bot</code>. You can you another tag if you like. Now you can try running your docker image. Remember to pass in your token via the <code>-e</code> flag. Here&rsquo;s what my command looks like:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-powershell" data-lang="powershell"><span class="n">docker</span> <span class="n">run</span> <span class="n">-e</span> <span class="n">DISCORD_TOKEN</span><span class="p">=</span><span class="nv">$env:DISCORD_TOKEN</span> <span class="n">docker-bot</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="4-deploy-the-docker-container-and-test-the-bot"><a href="#4-deploy-the-docker-container-and-test-the-bot" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a>4. Deploy the docker container and test the bot.</h2>
<p>To deploy the container off of your local machine, you first need to push it to your registry. I&rsquo;m going to use Azure Container Registry (ACR) since I already have one. You could always publish to DockerHub, but it was easier for me to use my existing registry. If you&rsquo;re interested in using Azure, instructions for setting up a new registry in Azure can be found <a href="https://docs.microsoft.com/en-us/azure/container-registry/container-registry-get-started-portal" target="_blank" rel="noopener">here</a>.</p>
<p>Since I&rsquo;m using ACR for this, I need to tag my image a little differently, so I&rsquo;m going to run these commands to push it:</p>
<pre><code>docker tag discord-bot mysupercoolregistry.azurecr.io/discord-bot
docker push mysupercoolregistry.azurecr.io/discord-bot:latest
</code></pre><p>Now that it&rsquo;s deployed, I can go to my Docker VM host and run the following command to run the image:</p>
<pre><code>docker run -e DISCORD_TOKEN='&lt;SecretToken&gt;' --restart unless-stopped mysupercoolregistry.azurecr.io/discord-bot:latest
</code></pre><p>And that&rsquo;s it, we&rsquo;re all set up and running. The bot will always run unless I manually turn it off in Docker. Thanks for reading all the way through. If I feel like it, I&rsquo;ll put up a blog post about how I set up CI/CD to deploy new updates to ACR using Azure DevOps Pipelines and GitHub.</p>
</div>

        </article>

        

        
    
    
    
        <ul class="post-copyright">
            <li class="copyright-item author"><span class="copyright-item-text">Author</span>: <a href="https://iamdavidfrancis.com/" target="_blank" rel="noopener">David Francis</a></li>
            
                
                
                
                
                <li class="copyright-item link"><span class="copyright-item-text">Link</span>: <a href="/posts/discord-bot/" target="_blank" rel="noopener">https://blog.iamdavidfrancis.com/posts/discord-bot/</a></li>
            
            
        </ul>
    



        
    <div class="updated-badge-container"><div title="Updated @ 2020-04-11 22:54:02 -0700" style="cursor:help;display:inline-block">

<svg xmlns="http://www.w3.org/2000/svg" width="130" height="20" class="updated-badge"><linearGradient id="b" x2="0" y2="100%"><stop offset="0" stop-color="#bbb" stop-opacity=".1"/><stop offset="1" stop-opacity=".1"/></linearGradient><clipPath id="a"><rect width="130" height="20" rx="3" fill="#fff"/></clipPath><g clip-path="url(#a)"><path class="updated-badge-left" d="M0 0h55v20H0z"/><path class="updated-badge-right" d="M55 0h75v20H55z"/><path fill="url(#b)" d="M0 0h130v20H0z"/></g><g fill="#fff" text-anchor="middle" font-size="110"><text x="285" y="150" fill="#010101" fill-opacity=".3" textLength="450" transform="scale(.1)">updated</text><text x="285" y="140" textLength="450" transform="scale(.1)">updated</text><text x="915" y="150" fill="#010101" fill-opacity=".3" textLength="650" transform="scale(.1)">2020-04-11</text><text x="915" y="140" textLength="650" transform="scale(.1)">2020-04-11</text></g></svg></div></div>


        
    


        

<div class="post-share">

        

        <div class="share-items">

            
                
                <div class="share-item twitter">
                    
                    <a href="https://twitter.com/share?url=https://blog.iamdavidfrancis.com/posts/discord-bot/&amp;text=Creating%20a%20Discord%20Bot%20with%20Docker&amp;hashtags=js,docker,&amp;via=iamdavidfrancis" title="Share on Twitter" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon twitter-icon"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg></a>
                </div>
            

            
                
                <div class="share-item facebook">
                    
                    <a href="https://www.facebook.com/sharer/sharer.php?u=https://blog.iamdavidfrancis.com/posts/discord-bot/&amp;hashtag=%23js" title="Share on Facebook" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon facebook-icon"><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"/></svg></a>
                </div>
            

            
                
                <div class="share-item linkedin">
                    
                    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://blog.iamdavidfrancis.com/posts/discord-bot/&amp;title=Creating%20a%20Discord%20Bot%20with%20Docker&amp;summary=Ever%20want%20to%20make%20a%20Discord%20Bot%20and%20have%20no%20idea%20where%20to%20get%20started?%20Yeah%20me%20too.%20So%20I%20spent%20most%20of%20a%20night%20looking%20into%20making%20one%20and%20setting%20it%20up%20in%20a%20Docker%20container.%20Some%20people%20thought%20it%20was%20an%20interesting%20idea,%20so%20here&amp;rsquo;s%20a%20write%20up.&amp;source=My%20Blog.%20Sorry." title="Share on LinkedIn" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon linkedin-icon"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg></a>
                </div>
            

            
                
                <div class="share-item telegram">
                    
                    <a href="https://t.me/share/url?url=https://blog.iamdavidfrancis.com/posts/discord-bot/&amp;text=Creating%20a%20Discord%20Bot%20with%20Docker" title="Share on Telegram" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" class="icon telegram-icon"><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"/></svg></a>
                </div>
            

            
                
                <div class="share-item weibo">
                    
                    <a href="https://service.weibo.com/share/share.php?&amp;url=https://blog.iamdavidfrancis.com/posts/discord-bot/&amp;title=Creating%20a%20Discord%20Bot%20with%20Docker&amp;pic=https://blog.iamdavidfrancis.com/images/gifs/hold-on-to-your-butts.gif&amp;searchPic=false" title="Share on Weibo" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon weibo-icon"><path d="M407 177.6c7.6-24-13.4-46.8-37.4-41.7-22 4.8-28.8-28.1-7.1-32.8 50.1-10.9 92.3 37.1 76.5 84.8-6.8 21.2-38.8 10.8-32-10.3zM214.8 446.7C108.5 446.7 0 395.3 0 310.4c0-44.3 28-95.4 76.3-143.7C176 67 279.5 65.8 249.9 161c-4 13.1 12.3 5.7 12.3 6 79.5-33.6 140.5-16.8 114 51.4-3.7 9.4 1.1 10.9 8.3 13.1 135.7 42.3 34.8 215.2-169.7 215.2zm143.7-146.3c-5.4-55.7-78.5-94-163.4-85.7-84.8 8.6-148.8 60.3-143.4 116s78.5 94 163.4 85.7c84.8-8.6 148.8-60.3 143.4-116zM347.9 35.1c-25.9 5.6-16.8 43.7 8.3 38.3 72.3-15.2 134.8 52.8 111.7 124-7.4 24.2 29.1 37 37.4 12 31.9-99.8-55.1-195.9-157.4-174.3zm-78.5 311c-17.1 38.8-66.8 60-109.1 46.3-40.8-13.1-58-53.4-40.3-89.7 17.7-35.4 63.1-55.4 103.4-45.1 42 10.8 63.1 50.2 46 88.5zm-86.3-30c-12.9-5.4-30 .3-38 12.9-8.3 12.9-4.3 28 8.6 34 13.1 6 30.8.3 39.1-12.9 8-13.1 3.7-28.3-9.7-34zm32.6-13.4c-5.1-1.7-11.4.6-14.3 5.4-2.9 5.1-1.4 10.6 3.7 12.9 5.1 2 11.7-.3 14.6-5.4 2.8-5.2 1.1-10.9-4-12.9z"/></svg></a>
                </div>
            

            
                
                <div class="share-item douban">
                    
                    <a href="https://www.douban.com/share/service?href=https://blog.iamdavidfrancis.com/posts/discord-bot/&amp;name=Creating%20a%20Discord%20Bot%20with%20Docker&amp;text=Ever%20want%20to%20make%20a%20Discord%20Bot%20and%20have%20no%20idea%20where%20to%20get%20started?%20Yeah%20me%20too.%20So%20I%20spent%20most%20of%20a%20night%20looking%20into%20making%20one%20and%20setting%20it%20up%20in%20a%20Docker%20container.%20Some%20people%20thought%20it%20was%20an%20interesting%20idea,%20so%20here&amp;rsquo;s%20a%20write%20up." title="Share on Douban" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon douban-icon"><path d="M.643.92v2.412h22.714V.92H.643zm1.974 4.926v9.42h18.764v-9.42H2.617zm2.72 2.408H18.69v4.605H5.338V8.254zm1.657 7.412l-2.512.938c1.037 1.461 1.87 2.825 2.512 4.091H0v2.385h24v-2.385h-6.678c.818-1.176 1.589-2.543 2.303-4.091l-2.73-.938a29.952 29.952 0 01-2.479 5.03h-4.75c-.786-1.962-1.677-3.641-2.672-5.03Z"/></svg></a>
                </div>
            

            
                
                <div class="share-item qq">
                    
                    <a href="https://connect.qq.com/widget/shareqq/index.html?url=https://blog.iamdavidfrancis.com/posts/discord-bot/&amp;title=Creating%20a%20Discord%20Bot%20with%20Docker&amp;summary=Ever%20want%20to%20make%20a%20Discord%20Bot%20and%20have%20no%20idea%20where%20to%20get%20started?%20Yeah%20me%20too.%20So%20I%20spent%20most%20of%20a%20night%20looking%20into%20making%20one%20and%20setting%20it%20up%20in%20a%20Docker%20container.%20Some%20people%20thought%20it%20was%20an%20interesting%20idea,%20so%20here&amp;rsquo;s%20a%20write%20up.&amp;pics=https://blog.iamdavidfrancis.com/images/gifs/hold-on-to-your-butts.gif&amp;site=My%20Blog.%20Sorry." title="Share on QQ" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon qq-icon"><path d="M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741 0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792 0 0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704z"/></svg></a>
                </div>
            

            
                
                <div class="share-item qzone">
                    
                    <a href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://blog.iamdavidfrancis.com/posts/discord-bot/&amp;title=Creating%20a%20Discord%20Bot%20with%20Docker&amp;summary=Ever%20want%20to%20make%20a%20Discord%20Bot%20and%20have%20no%20idea%20where%20to%20get%20started?%20Yeah%20me%20too.%20So%20I%20spent%20most%20of%20a%20night%20looking%20into%20making%20one%20and%20setting%20it%20up%20in%20a%20Docker%20container.%20Some%20people%20thought%20it%20was%20an%20interesting%20idea,%20so%20here&amp;rsquo;s%20a%20write%20up.&amp;pics=https://blog.iamdavidfrancis.com/images/gifs/hold-on-to-your-butts.gif&amp;site=My%20Blog.%20Sorry." title="Share on Qzone" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon qzone-icon"><path d="M23.985 9.202c-.032-.099-.127-.223-.334-.258-.207-.036-7.351-1.406-7.351-1.406s-.105-.022-.198-.07c-.092-.047-.127-.167-.127-.167S12.447.956 12.349.77C12.25.583 12.104.532 12 .532c-.104 0-.251.051-.349.238-.098.186-3.626 6.531-3.626 6.531s-.035.12-.128.167c-.092.047-.197.07-.197.07S.556 8.908.348 8.943c-.208.036-.302.16-.333.258a.477.477 0 0 0 .125.449l5.362 5.49s.072.08.119.172c.016.104.005.21.005.21s-1.189 7.242-1.22 7.45.075.369.159.43c.083.062.233.106.421.013.189-.093 6.812-3.261 6.812-3.261s.098-.044.201-.061c.103-.017.201.061.201.061s6.623 3.168 6.812 3.261c.188.094.338.049.421-.013a.463.463 0 0 0 .159-.43c-.021-.14-.93-5.677-.93-5.677.876-.54 1.425-1.039 1.849-1.747-2.594.969-6.006 1.717-9.415 1.866-.915.041-2.41.097-3.473-.015-.678-.071-1.17-.144-1.243-.438-.053-.215.054-.46.545-.831a2640.5 2640.5 0 0 1 2.861-2.155c1.285-.968 3.559-2.47 3.559-2.731 0-.285-2.144-.781-4.037-.781-1.945 0-2.275.132-2.811.168-.488.034-.769.005-.804-.138-.06-.248.183-.389.588-.568.709-.314 1.86-.594 1.984-.626.194-.052 3.082-.805 5.618-.535 1.318.14 3.244.668 3.244 1.276 0 .342-1.721 1.494-3.225 2.597-1.149.843-2.217 1.561-2.217 1.688 0 .342 3.533 1.241 6.689 1.01l.003-.022c.048-.092.119-.172.119-.172l5.362-5.49a.477.477 0 0 0 .127-.449z"/></svg></a>
                </div>
            

            
                
                <div class="share-item qrcode">
                    <div class="qrcode-container" title="Share via QR Code"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon qrcode-icon"><path d="M0 224h192V32H0v192zM64 96h64v64H64V96zm192-64v192h192V32H256zm128 128h-64V96h64v64zM0 480h192V288H0v192zm64-128h64v64H64v-64zm352-64h32v128h-96v-32h-32v96h-64V288h96v32h64v-32zm0 160h32v32h-32v-32zm-64 0h32v32h-32v-32z"/></svg><div id="qrcode-img"></div>
                    </div>
                    <script src="https://cdn.jsdelivr.net/npm/qrcode-generator@1.4.4/qrcode.min.js"></script>

<script>
    var typeNumber = 0;
    var errorCorrectionLevel = 'L';
    var qr = qrcode(typeNumber, errorCorrectionLevel);
    qr.addData('https:\/\/blog.iamdavidfrancis.com\/posts\/discord-bot\/');
    qr.make();
    document.getElementById('qrcode-img').innerHTML = qr.createImgTag();
</script>

                </div>
            

        </div>

    </div>




        
    
    


        
    
        <div class="post-tags">
            
                
                
                
                
                    
                    <a href="/tags/js/" rel="tag" class="post-tags-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon tag-icon"><path d="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"/></svg>js</a>
                
            
                
                
                
                
                    
                    <a href="/tags/docker/" rel="tag" class="post-tags-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon tag-icon"><path d="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"/></svg>docker</a>
                
            
        </div>
    


        

        

        
    
        
        
    
    
    
    
        <ul class="post-nav">
            
            
                <li class="post-nav-next">
                    <a href="/posts/hello-world/" rel="next">Hello World ></a>
                </li>
            
        </ul>
    


        


    </div>
</main>


            
    <div id="back-to-top" class="back-to-top">
        <a href="#"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon"><path d="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"/></svg></a>
    </div>

            
    <footer id="footer" class="footer">
        <div class="footer-inner"><div class="site-info">Â©&nbsp;2020â€“2020&nbsp;<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon footer-icon"><path d="M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"/></svg>&nbsp;David Francis</div><div class="site-copyright"></div><div class="custom-footer">Disclaimer: The opinions expressed herein are my own personal opinions and do not represent my employer&rsquo;s view in any way.</div>

            
        </div>
    </footer>


        </div>
        <script src="/js/meme.min.7846f604d8a1dba7a97436c5b93e188bd054f38c9ea21521a9bd02e12d4b8606.js" integrity="sha256-eEb2BNih26epdDbFuT4Yi9BU84yeohUhqb0C4S1LhgY="></script>


    <script src="https://cdn.jsdelivr.net/gh/cferdinandi/smooth-scroll/dist/smooth-scroll.polyfills.min.js"></script>

<script>
    var scroll = new SmoothScroll('a[href*="#"]', {
        speedAsDuration: true,
        header: '[data-scroll-header]'
    });
</script>












    <script src="https://cdn.jsdelivr.net/npm/medium-zoom@latest/dist/medium-zoom.min.js"></script>

<script>
    mediumZoom(document.querySelectorAll('div.post-body img'), {
        background: 'hsla(var(--color-bg-h), var(--color-bg-s), var(--color-bg-l), 0.95)'
    })
</script>




    <script src="https://cdn.jsdelivr.net/npm/instant.page@3.0.0/instantpage.min.js" type="module" defer></script>










    </body>
</html>
